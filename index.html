<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dr. Bhavna ‚Äì Homeopathy Clinical System</title>

<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{background:#f1f5f9}
.panel{
 background:#ffffff;
 border-radius:14px;
 padding:24px;
 box-shadow:0 10px 25px rgba(0,0,0,0.05)
}
.card{
 background:#f8fafc;
 border-left:5px solid #2563eb;
 padding:18px;
 border-radius:12px;
 margin-top:16px
}
.badge{
 background:#e0e7ff;
 color:#1e3a8a;
 padding:3px 8px;
 border-radius:999px;
 font-size:12px;
 margin-right:6px;
 margin-top:4px;
 display:inline-block
}
.section-title{
 font-size:18px;
 font-weight:700;
 margin-bottom:12px;
 color:#0f172a
}
</style>
</head>

<body class="min-h-screen flex flex-col">

<!-- HEADER -->
<header class="bg-white border-b">
 <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
  <h1 class="text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-green-600">
   Dr. Bhavna ‚Äì Homeopathy 
  </h1>
  <span class="text-sm text-gray-500">Doctor Use Only</span>
 </div>
</header>

<!-- MAIN -->
<main class="max-w-6xl mx-auto px-6 py-8 grid grid-cols-1 md:grid-cols-2 gap-8">

 <!-- LEFT COLUMN -->
 <section class="panel">
  <div class="section-title">üîç Symptom-Based Medicine Search</div>

  <textarea id="symptomInput"
   class="border rounded-lg p-3 w-full h-24 focus:outline-none focus:ring-2 focus:ring-blue-500"
   placeholder="Enter symptoms (e.g. fever, throbbing headache, anxiety, burning)"></textarea>

  <button onclick="searchMedicine()"
   class="mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg w-full">
   Analyze Symptoms
  </button>

  <div id="medicineResult" class="mt-6"></div>
 </section>

 <!-- RIGHT COLUMN -->
 <section class="panel">
  <div class="section-title">üìù Patient & Prescription</div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
   <input id="pname" class="border p-3 rounded-lg" placeholder="Patient Name">
   <input id="page" class="border p-3 rounded-lg" placeholder="Age">
  </div>

  <select id="ptype" class="border p-3 rounded-lg w-full mt-4">
   <option value="acute">Acute Case</option>
   <option value="chronic">Chronic Case</option>
  </select>

  <textarea id="pcomplaint"
   class="border rounded-lg p-3 w-full h-20 mt-4"
   placeholder="Chief complaint / case summary"></textarea>

  <button onclick="generatePDF()"
   class="mt-6 bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg w-full">
   üìÑ Generate Prescription PDF
  </button>
 </section>

</main>

<!-- FOOTER -->
<footer class="bg-white border-t mt-auto">
 <div class="max-w-6xl mx-auto px-6 py-4 text-xs text-gray-500 text-center">
  ‚ö† This software is a clinical decision-support tool. Final remedy selection, potency and repetition
  are the sole responsibility of the qualified homeopathic physician.
 </div>
</footer>

<script>
/* ================= MEDICINE DATA ================= */
const medicines=[
{
 name:"Belladonna",
 keywords:["fever","headache","heat","throbbing"],
 keynotes:["Sudden onset","High fever","Throbbing pain","Red face"],
 type:"acute"
},
{
 name:"Aconitum Napellus",
 keywords:["fever","cold","fear","anxiety"],
 keynotes:["Sudden illness","Fear of death","Restlessness"],
 type:"acute"
},
{
 name:"Bryonia",
 keywords:["pain","movement","dry","thirst"],
 keynotes:["Pain worse by motion","Dryness","Better rest"],
 type:"acute"
},
{
 name:"Rhus Toxicodendron",
 keywords:["joint","stiff","rest","movement"],
 keynotes:["Stiffness after rest","Better by motion","Restless"],
 type:"chronic"
},
{
 name:"Arsenicum Album",
 keywords:["burning","weak","anxiety","restless"],
 keynotes:["Burning pains","Great weakness","Anxiety"],
 type:"chronic"
}
];

let lastResults=[];

/* ================= SEARCH ================= */
function searchMedicine(){
 const text=symptomInput.value.toLowerCase();
 medicineResult.innerHTML="";
 lastResults=[];

 medicines.forEach(m=>{
  let matched=[];
  m.keywords.forEach(k=>{ if(text.includes(k)) matched.push(k); });
  if(matched.length){
   lastResults.push({...m,matched});
  }
 });

 lastResults.sort((a,b)=>b.matched.length-a.matched.length);
 lastResults=lastResults.slice(0,5);

 lastResults.forEach((m,i)=>{
  medicineResult.innerHTML+=`
   <div class="card">
    <div class="flex justify-between items-center">
     <b class="text-lg">${i+1}. ${m.name}</b>
     <span class="badge">${m.type.toUpperCase()}</span>
    </div>

    <div class="mt-2">
     <b class="text-sm">Matched Symptoms:</b><br>
     ${m.matched.map(x=>`<span class="badge">${x}</span>`).join("")}
    </div>

    <div class="mt-3 text-sm">
     <b>Keynote Symptoms:</b>
     <ul class="list-disc ml-5 mt-1">
      ${m.keynotes.map(k=>`<li>${k}</li>`).join("")}
     </ul>
    </div>

    <div class="mt-3 text-sm grid grid-cols-2 gap-4">
     <div><b>Potency:</b> ${ptype.value==="acute"?"30C":"200C"}</div>
     <div><b>Dosage:</b> 3 pills √ó 2 daily</div>
    </div>
   </div>
  `;
 });
}

/* ================= PDF ================= */
function generatePDF(){
 const {jsPDF}=window.jspdf;
 const doc=new jsPDF();
 let y=20;

 doc.setFontSize(16);
 doc.text("Homeopathic Prescription",20,y); y+=10;

 doc.setFontSize(11);
 doc.text(`Patient: ${pname.value}`,20,y); y+=6;
 doc.text(`Age: ${page.value}`,20,y); y+=6;
 doc.text(`Complaint: ${pcomplaint.value}`,20,y); y+=10;

 doc.text("Selected Medicines (Based on Symptoms):",20,y); y+=8;

 lastResults.forEach((m,i)=>{
  doc.text(`${i+1}. ${m.name}`,20,y); y+=6;
  doc.text(`Keynotes: ${m.keynotes.join(", ")}`,25,y); y+=6;
  doc.text(`Matched: ${m.matched.join(", ")}`,25,y); y+=8;
 });

 doc.setFontSize(9);
 doc.text("Clinical decision-support only.",20,280);
 doc.save("Prescription.pdf");
}
</script>

</body>
</html>
