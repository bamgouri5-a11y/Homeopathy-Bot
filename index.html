<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Homeopathic Consultation</title>

<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{background:#f1f5f9}
.panel{background:#fff;border-radius:14px;padding:24px;box-shadow:0 8px 20px rgba(0,0,0,.06)}
.card{background:#f8fafc;border-left:5px solid #2563eb;padding:16px;border-radius:10px;margin-top:12px}
.hidden{display:none}
</style>
</head>

<body class="min-h-screen flex flex-col">

<!-- HEADER -->
<header class="bg-white shadow">
 <div class="max-w-5xl mx-auto px-6 py-4 flex justify-between items-center">
  <h1 id="title" class="text-xl font-bold text-blue-700">
   Homeopathic Consultation System
  </h1>
  <button onclick="toggleLang()" class="bg-blue-600 text-white px-3 py-1 rounded text-sm">
   ğŸŒ English / à¤¹à¤¿à¤‚à¤¦à¥€
  </button>
 </div>
</header>

<!-- PATIENT SECTION -->
<main class="max-w-5xl mx-auto px-6 py-8 grid grid-cols-1 md:grid-cols-2 gap-6">

<!-- SYMPTOMS -->
<section class="panel">
 <h2 id="symTitle" class="font-bold text-lg mb-2">ğŸ” Enter Symptoms</h2>

 <div class="flex gap-2">
  <textarea id="symptomInput" class="border rounded-lg p-3 w-full h-28"
   placeholder="Type your symptoms"></textarea>
  <button onclick="voiceInput('symptom')" class="bg-green-600 text-white px-3 rounded-lg">ğŸ¤</button>
 </div>

 <button onclick="searchMedicine()" class="mt-4 bg-blue-600 text-white py-2 rounded-lg w-full">
  Show Medicines
 </button>

 <div id="medicineResult"></div>
</section>

<!-- PATIENT DETAILS -->
<section class="panel">
 <h2 id="patTitle" class="font-bold text-lg mb-2">ğŸ“ Patient Details</h2>

 <input id="pname" class="border p-3 rounded-lg w-full mb-2" placeholder="Name">
 <input id="page" class="border p-3 rounded-lg w-full mb-2" placeholder="Age">
 <input id="pmobile" class="border p-3 rounded-lg w-full mb-2" placeholder="Mobile Number">
 <textarea id="paddress" class="border p-3 rounded-lg w-full mb-2"
  placeholder="Address"></textarea>

 <label id="compLabel" class="font-semibold text-sm">Complaint</label>
 <div class="flex gap-2 mt-1">
  <textarea id="pcomplaint" class="border p-3 rounded-lg w-full h-24"
   placeholder="Describe your complaint"></textarea>
  <button onclick="voiceInput('complaint')" class="bg-green-600 text-white px-3 rounded-lg">ğŸ¤</button>
 </div>

 <button onclick="submitCase()" class="mt-4 bg-green-600 text-white py-2 rounded-lg w-full">
  Submit to Doctor
 </button>
</section>

</main>

<!-- DOCTOR LOGIN -->
<section class="max-w-5xl mx-auto px-6 pb-8">
 <div class="panel bg-gray-100">
  <h2 class="font-bold text-red-600 mb-2">ğŸ” Doctor Admin Login</h2>

  <input id="adminUser" class="border p-3 rounded-lg w-full mb-2" placeholder="Username">
  <input id="adminPass" type="password" class="border p-3 rounded-lg w-full mb-2" placeholder="Password">

  <button onclick="adminLogin()" class="bg-red-600 text-white py-2 rounded-lg w-full">
   Login
  </button>
 </div>
</section>

<!-- FOOTER -->
<footer id="disclaimer" class="bg-white border-t text-center text-xs text-gray-500 p-4">
 âš  This system gives preliminary homeopathic suggestions only.
 Final medicine selection must be done by a qualified homeopathic doctor.
</footer>

<script>
/* ========== LANGUAGE TOGGLE ========== */
let lang="en";
function toggleLang(){
 lang = lang==="en" ? "hi" : "en";
 title.innerText = lang==="en"
  ? "Homeopathic Consultation System"
  : "à¤¹à¥‹à¤®à¥à¤¯à¥‹à¤ªà¥ˆà¤¥à¤¿à¤• à¤ªà¤°à¤¾à¤®à¤°à¥à¤¶ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€";

 symTitle.innerText = lang==="en" ? "ğŸ” Enter Symptoms" : "ğŸ” à¤²à¤•à¥à¤·à¤£ à¤²à¤¿à¤–à¥‡à¤‚";
 patTitle.innerText = lang==="en" ? "ğŸ“ Patient Details" : "ğŸ“ à¤°à¥‹à¤—à¥€ à¤µà¤¿à¤µà¤°à¤£";
 compLabel.innerText = lang==="en" ? "Complaint" : "à¤¶à¤¿à¤•à¤¾à¤¯à¤¤";

 symptomInput.placeholder = lang==="en" ? "Type your symptoms" : "à¤…à¤ªà¤¨à¥‡ à¤²à¤•à¥à¤·à¤£ à¤¬à¥‹à¤²à¥‡à¤‚ à¤¯à¤¾ à¤²à¤¿à¤–à¥‡à¤‚";
 pcomplaint.placeholder = lang==="en" ? "Describe your complaint" : "à¤…à¤ªà¤¨à¥€ à¤¶à¤¿à¤•à¤¾à¤¯à¤¤ à¤¬à¤¤à¤¾à¤à¤‚";

 disclaimer.innerText = lang==="en"
  ? "âš  This system gives preliminary homeopathic suggestions only. Final medicine selection must be done by a qualified homeopathic doctor."
  : "âš  à¤¯à¤¹ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€ à¤•à¥‡à¤µà¤² à¤ªà¥à¤°à¤¾à¤°à¤‚à¤­à¤¿à¤• à¤¹à¥‹à¤®à¥à¤¯à¥‹à¤ªà¥ˆà¤¥à¤¿à¤• à¤¸à¥à¤à¤¾à¤µ à¤¦à¥‡à¤¤à¥€ à¤¹à¥ˆà¥¤ à¤…à¤‚à¤¤à¤¿à¤® à¤¦à¤µà¤¾ à¤•à¤¾ à¤šà¤¯à¤¨ à¤¯à¥‹à¤—à¥à¤¯ à¤šà¤¿à¤•à¤¿à¤¤à¥à¤¸à¤• à¤¦à¥à¤µà¤¾à¤°à¤¾ à¤•à¤¿à¤¯à¤¾ à¤œà¤¾à¤à¤—à¤¾à¥¤";
}

/* ========== VOICE INPUT ========== */
function voiceInput(target){
 const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
 if(!SR){ alert("Voice not supported"); return; }
 const rec = new SR();
 rec.lang = lang==="hi" ? "hi-IN" : "en-IN";
 rec.start();
 rec.onresult = e=>{
  const text = e.results[0][0].transcript;
  if(target==="symptom") symptomInput.value = text;
  if(target==="complaint") pcomplaint.value = text;
 };
}

/* ========== MEDICINES ========== */
const medicines=[
 {name:"Belladonna",keys:["fever","headache","heat","throbbing"]},
 {name:"Aconitum",keys:["fear","cold","anxiety","sudden"]},
 {name:"Bryonia",keys:["pain","movement","dry"]},
 {name:"Rhus Toxicodendron",keys:["joint","stiff","rest"]},
 {name:"Arsenicum Album",keys:["burning","weak","anxiety"]}
];

let suggested=[];

/* ========== SEARCH ========== */
function searchMedicine(){
 const text=symptomInput.value.toLowerCase();
 medicineResult.innerHTML="";
 suggested=[];

 medicines.forEach(m=>{
  let count=0;
  m.keys.forEach(k=>{ if(text.includes(k)) count++; });
  if(count>0) suggested.push({...m,count});
 });

 suggested.sort((a,b)=>b.count-a.count);

 suggested.forEach((m,i)=>{
  medicineResult.innerHTML+=`
   <div class="card">
    <b>${i+1}. ${m.name}</b><br>
    <span class="text-sm text-gray-600">Matching symptoms: ${m.count}</span>
   </div>`;
 });
}

/* ========== SUBMIT CASE (PDF) ========== */
function submitCase(){
 const {jsPDF}=window.jspdf;
 const doc=new jsPDF();
 let y=20;

 doc.setFontSize(16);
 doc.text("Patient Case Submission",20,y); y+=10;

 doc.setFontSize(11);
 doc.text(`Name: ${pname.value}`,20,y); y+=6;
 doc.text(`Age: ${page.value}`,20,y); y+=6;
 doc.text(`Mobile: ${pmobile.value}`,20,y); y+=6;
 doc.text(`Address: ${paddress.value}`,20,y); y+=8;

 doc.text("Symptoms:",20,y); y+=6;
 doc.text(symptomInput.value,20,y); y+=10;

 doc.text("Complaint:",20,y); y+=6;
 doc.text(pcomplaint.value,20,y); y+=10;

 doc.text("Suggested Medicines:",20,y); y+=6;
 suggested.forEach((m,i)=>{
  doc.text(`${i+1}. ${m.name}`,25,y); y+=6;
 });

 doc.save(`Patient_${Date.now()}.pdf`);
 alert("Your case has been submitted to doctor.");
}

/* ========== ADMIN LOGIN ========== */
function adminLogin(){
 if(adminUser.value==="admin" && adminPass.value==="admin123"){
  alert("Doctor logged in. Please check downloaded patient PDFs.");
 } else alert("Invalid credentials");
}
</script>

</body>
</html>
