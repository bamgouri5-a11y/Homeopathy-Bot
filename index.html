<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Homeopathic Symptom Checker</title>

<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{background:#f1f5f9}
.panel{background:#fff;border-radius:14px;padding:24px;box-shadow:0 8px 20px rgba(0,0,0,.06)}
.card{background:#f8fafc;border-left:5px solid #2563eb;padding:16px;border-radius:10px;margin-top:14px}
.badge{background:#e0e7ff;color:#1e3a8a;padding:3px 8px;border-radius:999px;font-size:12px;margin-right:6px}
.logo{width:42px;height:42px;border-radius:50%;background:linear-gradient(135deg,#2563eb,#16a34a);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:bold}
</style>
</head>

<body class="min-h-screen flex flex-col">

<!-- HEADER -->
<header class="bg-white shadow">
 <div class="max-w-5xl mx-auto px-6 py-4 flex items-center gap-3">
  <div class="logo">HB</div>
  <div>
   <h1 id="title" class="text-xl font-bold text-blue-700">
    Homeopathic Symptom Checker
   </h1>
   <p class="text-xs text-gray-500">Patient self-assessment (Doctor approval required)</p>
  </div>
  <div class="ml-auto">
   <button onclick="toggleLang()" class="bg-blue-600 text-white px-3 py-1 rounded text-sm">
    ğŸŒ English / à¤¹à¤¿à¤‚à¤¦à¥€
   </button>
  </div>
 </div>
</header>

<!-- MAIN -->
<main class="max-w-5xl mx-auto px-6 py-8 grid grid-cols-1 md:grid-cols-2 gap-6">

<!-- LEFT -->
<section class="panel">
 <h2 id="symTitle" class="font-bold text-lg mb-2">ğŸ” Enter Symptoms</h2>

 <div class="flex gap-2">
  <textarea id="symptomInput" class="border rounded-lg p-3 w-full h-28"
   placeholder="fever, headache, anxiety, joint pain"></textarea>
  <button onclick="voiceInput('symptom')" class="bg-green-600 text-white px-3 rounded-lg">ğŸ¤</button>
 </div>

 <button onclick="searchMedicine()" class="mt-4 bg-blue-600 text-white py-2 rounded-lg w-full">
  Show Possible Medicines
 </button>

 <div id="medicineResult"></div>
</section>

<!-- RIGHT -->
<section class="panel">
 <h2 id="patTitle" class="font-bold text-lg mb-2">ğŸ“ Patient Details</h2>

 <input id="pname" class="border p-3 rounded-lg w-full mb-2" placeholder="Name">
 <input id="page" class="border p-3 rounded-lg w-full mb-2" placeholder="Age">
 <input id="pmobile" class="border p-3 rounded-lg w-full mb-2" placeholder="Mobile Number">
 <textarea id="paddress" class="border p-3 rounded-lg w-full mb-2"
  placeholder="Address"></textarea>

 <label id="compLabel" class="font-semibold text-sm">Complaint</label>
 <div class="flex gap-2 mt-1">
  <textarea id="pcomplaint" class="border p-3 rounded-lg w-full h-24"
   placeholder="Describe your main problem"></textarea>
  <button onclick="voiceInput('complaint')" class="bg-green-600 text-white px-3 rounded-lg">ğŸ¤</button>
 </div>

 <button onclick="submitCase()" class="mt-4 bg-green-600 text-white py-2 rounded-lg w-full">
  Submit Case to Doctor
 </button>
</section>

</main>

<!-- FOOTER -->
<footer id="disclaimer" class="bg-white border-t text-center text-xs text-gray-500 p-4 mt-auto">
 âš  This system provides preliminary homeopathic suggestions based on symptoms.
 Final medicine selection and dosage must be decided by a qualified homeopathic doctor.
</footer>

<script>
/* ================= LANGUAGE ================= */
let lang="en";
function toggleLang(){
 lang = lang==="en"?"hi":"en";
 title.innerText = lang==="en"?"Homeopathic Symptom Checker":"à¤¹à¥‹à¤®à¥à¤¯à¥‹à¤ªà¥ˆà¤¥à¤¿à¤• à¤²à¤•à¥à¤·à¤£ à¤œà¤¾à¤‚à¤š";
 symTitle.innerText = lang==="en"?"ğŸ” Enter Symptoms":"ğŸ” à¤²à¤•à¥à¤·à¤£ à¤²à¤¿à¤–à¥‡à¤‚";
 patTitle.innerText = lang==="en"?"ğŸ“ Patient Details":"ğŸ“ à¤°à¥‹à¤—à¥€ à¤µà¤¿à¤µà¤°à¤£";
 compLabel.innerText = lang==="en"?"Complaint":"à¤¶à¤¿à¤•à¤¾à¤¯à¤¤";
 symptomInput.placeholder = lang==="en"?"Type your symptoms":"à¤…à¤ªà¤¨à¥‡ à¤²à¤•à¥à¤·à¤£ à¤²à¤¿à¤–à¥‡à¤‚ à¤¯à¤¾ à¤¬à¥‹à¤²à¥‡à¤‚";
 pcomplaint.placeholder = lang==="en"?"Describe your main problem":"à¤…à¤ªà¤¨à¥€ à¤®à¥à¤–à¥à¤¯ à¤¸à¤®à¤¸à¥à¤¯à¤¾ à¤¬à¤¤à¤¾à¤à¤‚";
 disclaimer.innerText = lang==="en"
  ?"âš  This system provides preliminary homeopathic suggestions based on symptoms. Final medicine selection and dosage must be decided by a qualified homeopathic doctor."
  :"âš  à¤¯à¤¹ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€ à¤²à¤•à¥à¤·à¤£à¥‹à¤‚ à¤•à¥‡ à¤†à¤§à¤¾à¤° à¤ªà¤° à¤ªà¥à¤°à¤¾à¤°à¤‚à¤­à¤¿à¤• à¤¹à¥‹à¤®à¥à¤¯à¥‹à¤ªà¥ˆà¤¥à¤¿à¤• à¤¸à¥à¤à¤¾à¤µ à¤¦à¥‡à¤¤à¥€ à¤¹à¥ˆà¥¤ à¤…à¤‚à¤¤à¤¿à¤® à¤¦à¤µà¤¾ à¤”à¤° à¤®à¤¾à¤¤à¥à¤°à¤¾ à¤¯à¥‹à¤—à¥à¤¯ à¤šà¤¿à¤•à¤¿à¤¤à¥à¤¸à¤• à¤¦à¥à¤µà¤¾à¤°à¤¾ à¤¤à¤¯ à¤•à¥€ à¤œà¤¾à¤à¤—à¥€à¥¤";
}

/* ================= VOICE ================= */
function voiceInput(target){
 const SR=window.SpeechRecognition||window.webkitSpeechRecognition;
 if(!SR){alert("Voice not supported");return;}
 const rec=new SR();
 rec.lang=lang==="hi"?"hi-IN":"en-IN";
 rec.start();
 rec.onresult=e=>{
  const text=e.results[0][0].transcript;
  if(target==="symptom") symptomInput.value=text;
  if(target==="complaint") pcomplaint.value=text;
 };
}

/* ================= MEDICINE DATABASE ================= */
const medicines=[
{
 name:"Belladonna",
 keys:["fever","heat","throbbing","headache"],
 keynotes:["Sudden onset","High fever","Red face","Throbbing pain"]
},
{
 name:"Aconitum Napellus",
 keys:["fear","cold","sudden","anxiety"],
 keynotes:["Sudden illness","Fear of death","Restlessness","After cold exposure"]
},
{
 name:"Bryonia",
 keys:["pain","movement","dry","thirst"],
 keynotes:["Pain worse by motion","Dryness","Better rest","Great thirst"]
},
{
 name:"Rhus Toxicodendron",
 keys:["joint","stiff","rest","motion"],
 keynotes:["Stiffness after rest","Better by motion","Restlessness","Sprain pains"]
},
{
 name:"Arsenicum Album",
 keys:["burning","weak","anxiety","restless"],
 keynotes:["Burning pains","Great weakness","Anxiety","Fastidious"]
},
{
 name:"Pulsatilla",
 keys:["cold","yellow","changeable","weeping"],
 keynotes:["Changeable symptoms","Mild disposition","Yellow discharge","Better open air"]
}
];

let suggested=[];

/* ================= SEARCH ================= */
function searchMedicine(){
 const text=symptomInput.value.toLowerCase();
 medicineResult.innerHTML="";
 suggested=[];

 medicines.forEach(m=>{
  let matched=[];
  m.keys.forEach(k=>{ if(text.includes(k)) matched.push(k); });
  if(matched.length){
   suggested.push({...m,matched});
  }
 });

 suggested.sort((a,b)=>b.matched.length-a.matched.length);

 suggested.forEach((m,i)=>{
  medicineResult.innerHTML+=`
   <div class="card">
    <b>${i+1}. ${m.name}</b><br>
    <span class="text-sm text-gray-600">
     Matched symptoms: ${m.matched.join(", ")}
    </span>

    <div class="mt-2">
     <b class="text-sm">Key-note Symptoms:</b><br>
     ${m.keynotes.map(k=>`<span class="badge">${k}</span>`).join("")}
    </div>
   </div>
  `;
 });
}

/* ================= SUBMIT CASE (PDF) ================= */
function submitCase(){
 const {jsPDF}=window.jspdf;
 const doc=new jsPDF();
 let y=20;

 doc.setFontSize(16);
 doc.text("Patient Case Submission",20,y); y+=10;

 doc.setFontSize(11);
 doc.text(`Name: ${pname.value}`,20,y); y+=6;
 doc.text(`Age: ${page.value}`,20,y); y+=6;
 doc.text(`Mobile: ${pmobile.value}`,20,y); y+=6;
 doc.text(`Address: ${paddress.value}`,20,y); y+=8;

 doc.text("Symptoms:",20,y); y+=6;
 doc.text(symptomInput.value,20,y); y+=8;

 doc.text("Complaint:",20,y); y+=6;
 doc.text(pcomplaint.value,20,y); y+=8;

 doc.text("Suggested Medicines (for doctor review):",20,y); y+=6;
 suggested.forEach((m,i)=>{
  doc.text(`${i+1}. ${m.name}`,25,y);
  y+=6;
 });

 doc.save(`Patient_Case_${Date.now()}.pdf`);
 alert("Your case has been submitted to doctor for final medicine selection.");
}
</script>

</body>
</html>
